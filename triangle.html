<html>
<head>
<script src='http://cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.1/processing.min.js'></script>
</head>
<body>
<canvas id='canvas1'></canvas>

<script>  

function main(processing) {
  var SCREEN_WIDTH = 300, SCREEN_HEIGHT = 300;
  var points = [];

  processing.setup = function() {
    processing.size(SCREEN_WIDTH, SCREEN_HEIGHT);

    for(var i = 0; i < 3; i++)
      points.push(random_point(SCREEN_WIDTH, SCREEN_HEIGHT));
  }

  processing.draw = function() {
    processing.background();
    processing.fill(0, 0, 0);

    // for(var i = 0; i < points.length - 1; i++) {
    //   processing.line(points[i].x, points[i].y, points[i + 1].x, points[i + 1].y);
    // }
    // processing.line(
    //   points[points.length - 1].x, points[points.length - 1].y, points[0].x, points[0].y);

    var x1 = SCREEN_WIDTH / 2, y1 = SCREEN_HEIGHT / 2, 
        x2 = processing.mouseX, y2 = processing.mouseY;
    var d = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
    processing.line(x1, y1, x2, y2);
    processing.text('' + (y2 - y1) / d, 10, 20)
  }

  function random_point(bounds_width, bounds_height) {
    return {x:Math.random() * bounds_width, y:Math.random() * bounds_height};
  }
}

var canvas = document.getElementById("canvas1");
var p = new Processing(canvas, main);
</script>
</body>
</html>